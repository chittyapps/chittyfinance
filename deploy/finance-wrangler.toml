name = "chittyfinance"
main = "../server/worker.ts"
compatibility_date = "2025-09-01"
compatibility_flags = ["nodejs_compat"]
account_id = "0bc21e3a5a9de1a4cc843be9c3e98121"

routes = [
  { pattern = "finance.chitty.cc/*", zone_name = "chitty.cc" }
]

[observability]
enabled = true

[[tail_consumers]]
service = "chittytrack"

[vars]
MODE = "system"
APP_VERSION = "1.0.0"

[build]
command = ""

[assets]
directory = "../public"
binding = "ASSETS"

# Durable Objects binding disabled â€” ChittyAgent placeholder doesn't extend DurableObject
# [[durable_objects.bindings]]
# name = "CF_AGENT"
# class_name = "ChittyAgent"

# Migration to delete the broken ChittyAgent DO class
[[migrations]]
tag = "v2"
deleted_classes = ["ChittyAgent"]

